---
const { contact } = Astro.props;

// Normalizamos y validamos URLs
const fbRaw = contact?.facebook?.trim();
const igRaw = contact?.instagram?.trim();
const isHttp = (u) => typeof u === "string" && /^https?:\/\//i.test(u);
const fb = isHttp(fbRaw) ? fbRaw : null;
const ig = isHttp(igRaw) ? igRaw : null;
const year = new Date().getFullYear();
---

<footer class="site-footer">
  <div class="wrap" style="flex-direction:column;gap:10px;align-items:center">
    <div style="display:flex;gap:12px">
      {fb && (
        <a href={fb} target="_blank" rel="noopener noreferrer" aria-label="Facebook" style="color:var(--muted)">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12.06C22 6.49 17.52 2 11.94 2S2 6.49 2 12.06c0 4.99 3.66 9.13 8.44 9.94v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.23.2 2.23.2v2.45h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.9h-2.34v7.03C18.34 21.19 22 17.05 22 12.06z"/></svg>
        </a>
      )}
      {ig && (
        <a href={ig} target="_blank" rel="noopener noreferrer" aria-label="Instagram" style="color:var(--muted)">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm0 2h10c1.66 0 3 1.34 3 3v10c0 1.66-1.34 3-3 3H7c-1.66 0-3-1.34-3-3V7c0-1.66 1.34-3 3-3zm5 3a5 5 0 100 10 5 5 0 000-10zm0 2.2a2.8 2.8 0 110 5.6 2.8 2.8 0 010-5.6zM17.5 6.5a1 1 0 100 2 1 1 0 000-2z"/></svg>
        </a>
      )}
    </div>
    <p>Â© {year} Escuela de Idiomas. Todos los derechos reservados.</p>
  </div>
</footer>